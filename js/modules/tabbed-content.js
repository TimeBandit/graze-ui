define(['exports','../utils/agent-detection','../utils/viewport-detection','../utils/respond'],function(a,b,c,d){'use strict';function e(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(a,'__esModule',{value:!0}),a.default=function(a){var b=(0,f.default)(a),c=(0,g.default)(a);return function(d){function e(){j&&(-1<a.inArray(c.getViewportSize(),j)?d.addClass('nav--tabs--stacked'):d.removeClass('nav--tabs--stacked')),window.location.hash?k.handleLocationHashChange():k.show(g.first(),!1),a(window).on('hashchange',function(){k.handleLocationHashChange()}),g.on('click keydown',function(b){-1<[1,13].indexOf(b.which)&&(j&&(-1<a.inArray(c.getViewportSize(),j)?k.show(a(this),!0):k.show(a(this),!1)),k.resetLocationHash(a(this).attr('href')),b.preventDefault())}),d.find('.nav').attr('role','tablist'),d.find('.nav__item').attr('role','tab'),g.each(function(){var b=a(this).attr('href').substring(1,a(this).attr('href').length);a(this).attr('aria-controls',b),a(this).attr('id','controls-'+b)}),d.find('.tabbed-content__section').each(function(){a(this).attr('role','tabpanel'),a(this).attr('aria-labelledby','controls-'+a(this).attr('id'))})}var f=d.block('nav').data('p.block'),g=f.element('item').block('nav__item'),i=f.getAttr('data-tabs-stacked'),j=i?i.split(','):null,k={init:function(){e()},show:function(b,d){var e=b.data('p.block'),f=b.attr('href');k.resetTabs(),e.addModifier('active'),k.resetContent(),k.showContent(f),j&&(-1<a.inArray(c.getViewportSize(),j)?(a(f).insertAfter(b),d&&a('body, html').stop().animate({scrollTop:b.offset().top},300)):(b.find('.tabbed-content__section-wrap').append(a(f)),d&&a('body, html').stop().animate({scrollTop:b.offset().top-20},300)))},resetTabs:function(){g.each(function(){var b=a(this).data('p.block');b.removeModifier('active')})},showContent:function(b){a(b).addClass('tabbed-content__section--active')},resetContent:function(){d.find('.tabbed-content__section').removeClass('tabbed-content__section--active')},resetLocationHash:function(a){window.history&&window.history.pushState?history.replaceState(null,null,a):window.location.hash=a},handleLocationHashChange:function(){var b=window.location.hash;g.each(function(){a(this).attr('href')===b&&(j&&(-1<a.inArray(c.getViewportSize(),j)?k.show(a(this),!0):k.show(a(this),!1)),k.resetLocationHash(a(this).attr('href')))})}};if(k.init(),j){var l=(0,h.default)(a,c,b);l.respondOnBreakpoints(k.init,j)}return k}};var f=e(b),g=e(c),h=e(d)});